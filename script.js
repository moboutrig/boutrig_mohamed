document.body.classList.add("loading"),document.addEventListener("DOMContentLoaded",async()=>{let e=await fetch("data.json"),t=await e.json();function a(){i(),l(),n(),r()}function s(e,a){let{logoUrls:s,emojiFallbacks:i}=t,l=i[e]||i.default,n=s[e];return n?`<img src="${n}" alt="${a}" onerror="this.onerror=null; this.outerHTML = '<span class=\\'emoji-fallback\\' title=\\'${a}\\'>${l}</span>';">`:`<span class='emoji-fallback' title='${a}'>${l}</span>`}function i(){let{persona:e,urls:a,sectionTitles:i,projects:l,skills:n,masterclasses:r,socialProof:o,community:c,footerText:d}=t,m=(e,t)=>{let a=document.getElementById(e);return a.innerHTML=(t?`<h2 class="section-title">${t}</h2>`:"")+'<div class="content-container"></div>',a.querySelector(".content-container")};document.getElementById("header").innerHTML=`<img id="profile-image" src="${a.profileImage}" alt="Profile image of ${e.name}" onerror="this.style.display='none'"><h1 class="reveal">${e.name}</h1><p class="subtitle reveal">${e.subtitle}</p><p class="header-quote reveal">${e.headerQuote}</p><div class="reveal"><a href="${a.resume}" class="btn-resume" target="_blank" rel="noopener noreferrer">View Resume</a></div>`,m("about",i.about).innerHTML=`<div class="about-content"><p>${e.aboutText}</p></div>`;let u=m("portfolio-projects",i.projects);u.classList.add("projects-grid"),l.forEach((e,t)=>{let a=e.visuals.map((t,a)=>`<div class="image-carousel-slide ${0===a?"active":""}"><img src="${t.url}" alt="${e.title} slide"></div>`).join(""),i=e.techStack.map(e=>`<span>${s(e.icon,e.name)} ${e.name}</span>`).join(""),l=e.keyResults.map(e=>`<li>${e}</li>`).join(""),n=e.useCases?`<div class="project-details collapsible-mobile"><h4><span class="emoji">üéØ</span> ${e.useCases.title}</h4><div class="collapsible-content"><ul>${e.useCases.items.map(e=>`<li>${e}</li>`).join("")}</ul></div></div>`:"",r=e.agentDetails?`<div class="agent-details-grid">${e.agentDetails.map(e=>`<div class="agent-card reveal"><h4>${s(e.icon,e.title)} ${e.title}</h4><p>${e.description}</p><ul>${e.responsibilities.map(e=>`<li>${e}</li>`).join("")}</ul></div>`).join("")}</div>`:"";u.innerHTML+=`
            <div class="project-container">
                <div class="project-card reveal">
                    <div id="carousel-${t}" class="image-carousel-container">${a}</div>
                    <div class="project-card-content">
                        <div class="industry-tag">${e.industry}</div><h3>${e.title}</h3><p>${e.description}</p>${n}
                        <div class="project-details collapsible-mobile"><h4><span class="emoji">üìà</span> Key Results</h4><div class="collapsible-content"><ul>${l}</ul></div></div>
                        <div class="project-details collapsible-mobile"><h4><span class="emoji">‚öôÔ∏è</span> Core Tech</h4><div class="collapsible-content"><div class="tech-stack">${i}</div></div></div>
                        <div class="project-actions"><a href="${e.demoUrl}" class="btn btn-primary">Live Demo</a><a href="${e.sourceUrl}" class="btn btn-secondary">Source Code</a><a href="${e.caseStudyUrl}" class="btn btn-secondary">Case Study</a></div>
                    </div>
                </div>
                ${r}
            </div>`});let v=m("skills",i.skills);v.classList.add("bento-grid"),n.forEach(e=>{let t=e.items.map(e=>`<li>${s(e.icon,e.name)}<span>${e.name}</span></li>`).join("");v.innerHTML+=`<div class="bento-item"><h3>${e.category}</h3><ul>${t}</ul></div>`});let p=m("masterclasses",i.masterclasses);p.parentElement.insertBefore(document.createRange().createContextualFragment('<div style="text-align: center; margin: -40px 0 60px 0;"><a href="#" class="btn-resume">Start Learning</a></div>'),p),p.classList.add("bento-grid"),r.courses.forEach(e=>{p.innerHTML+=`
                <div class="bento-item course-card">
                    <div class="course-thumbnail" style="background-image: url('${e.thumbnailUrl}')"><div class="play-button">‚ñ∂</div></div>
                    <div class="course-content"><h3>${e.title}</h3><p class="course-author">${e.author}</p><p>${e.description}</p><a href="#" class="btn btn-secondary" style="margin-top: auto;">Start Course</a></div>
                </div>`}),p.innerHTML+=`
            <div class="bento-item book-card">
                <img src="${r.book.coverUrl}" alt="Book Cover" onerror="this.style.display='none'"><div class="book-card-content">
                    <h3>${r.book.title}</h3><p class="course-author">${r.book.author}</p><p>${r.book.description}</p><a href="#" class="btn btn-secondary" style="margin-top: 15px;">Read Now</a>
                </div>
            </div>`;let h=m("testimonials",i.testimonials);h.classList.add("testimonials-grid"),o.testimonials.forEach(e=>{h.innerHTML+=`<div class="testimonial-card reveal"><blockquote>‚Äú${e.quote}‚Äù</blockquote><div class="author">${e.author}<span>${e.title}</span></div></div>`});let g=m("community",i.community);g.classList.add("bento-grid"),Object.values(c).forEach(e=>{let t=e.items.map(e=>`<a href="${e.url}">${s(e.icon,e.text)} ${e.text}</a>`).join("");g.innerHTML+=`<div class="bento-item animated reveal"><h3>${e.title}</h3>${t}</div>`});let b=m("clients",i.clients);b.classList.add("client-logos"),o.clients.forEach(e=>{b.innerHTML+=s(e.logo,e.name)}),m("contact-form",i.contact).innerHTML=`<div id="contact-form-container"><form action="${a.formspree}" method="POST"><div class="form-group"><label for="name">Name</label><input type="text" id="name" name="name" required></div><div class="form-group"><label for="email">Email</label><input type="email" id="email" name="email" required></div><div class="form-group"><label for="message">Message</label><textarea id="message" name="message" rows="5" required></textarea></div><button type="submit" class="btn-submit">Send</button></form></div>`,document.getElementById("footer").textContent=`\xa9 ${new Date().getFullYear()} ${e.name}. ${d}`}function l(){let{persona:e,urls:a}=t,i=document.getElementById("nav-links"),l=document.getElementById("nav-burger");document.querySelector(".nav-logo").innerHTML=`<img src="${a.profileImage}" alt="Profile Logo" class="nav-logo-img" onerror="this.style.display='none'"><a href="#">${e.name}</a>`,i.innerHTML=`<li><a href="#about">About</a></li><li><a href="#portfolio-projects">Projects</a></li><li><a href="#skills">Skills</a></li><li><a href="#masterclasses">Masterclasses</a></li><li class="nav-social-item"><a href="${a.email}" title="Email">${s("emailIcon","Email")}</a></li><li class="nav-social-item"><a href="${a.linkedin}" target="_blank" rel="noopener noreferrer" title="LinkedIn">${s("linkedinIcon","LinkedIn")}</a></li><li class="nav-social-item"><a href="${a.github}" target="_blank" rel="noopener noreferrer" title="GitHub">${s("github","GitHub")}</a></li><li><a href="#contact-form" class="nav-contact-btn">Contact</a></li>`,l.addEventListener("click",()=>{i.classList.toggle("active"),l.classList.toggle("toggle")}),i.addEventListener("click",e=>{"A"===e.target.tagName&&i.classList.contains("active")&&(i.classList.remove("active"),l.classList.remove("toggle"))})}function n(){(function e(){let t=document.querySelector(".cursor-dot"),a=document.querySelector(".cursor-outline");window.addEventListener("mousemove",e=>{t.style.left=`${e.clientX}px`,t.style.top=`${e.clientY}px`,a.style.left=`${e.clientX}px`,a.style.top=`${e.clientY}px`}),document.body.addEventListener("mouseleave",()=>{t.classList.add("cursor-hidden"),a.classList.add("cursor-hidden")}),document.body.addEventListener("mouseenter",()=>{t.classList.remove("cursor-hidden"),a.classList.remove("cursor-hidden")}),document.querySelectorAll("a, button, .bento-item, .project-card, .nav-burger, .collapsible-mobile > h4, .agent-card").forEach(e=>{e.addEventListener("mouseenter",()=>{t.classList.add("cursor-link-hover"),a.classList.add("cursor-link-hover")}),e.addEventListener("mouseleave",()=>{t.classList.remove("cursor-link-hover"),a.classList.remove("cursor-link-hover")})})})(),function e(){let t=document.querySelectorAll(".collapsible-mobile > h4"),a=()=>window.innerWidth<=768,s=()=>t.forEach(e=>{let t=e.parentElement,s=t.querySelector(".collapsible-content");a()?(t.classList.remove("expanded"),s.style.maxHeight=null):(t.classList.add("expanded"),s.style.maxHeight=null)});t.forEach(e=>e.addEventListener("click",()=>{if(a()){let t=e.parentElement,s=t.querySelector(".collapsible-content");t.classList.toggle("expanded"),s.style.maxHeight=t.classList.contains("expanded")?s.scrollHeight+"px":null}})),window.addEventListener("resize",s),s()}()}function r(){(function e(){let{projects:a,skills:i}=t,l="",n="",r="";i.forEach(e=>e.items.forEach(e=>l+=`<div class="marquee-item">${s(e.icon,e.name)}<span>${e.name}</span></div>`)),document.getElementById("skills-marquee").innerHTML=`<div class="marquee-content" style="animation-duration: 60s;">${l.repeat(2)}</div>`;let o=a.find(e=>e.title.includes("Support"));o?.useCases&&(o.useCases.items.forEach(e=>n+=`<div class="marquee-item"><span>${e.replace(/<[^>]*>/g," ")}</span></div>`),document.getElementById("trading-marquee").innerHTML=`<div class="marquee-content" style="animation-duration: 55s; animation-direction: reverse;">${n.repeat(2)}</div>`);let c=a.find(e=>e.title.includes("Trading"));c?.useCases&&(c.useCases.items.forEach(e=>r+=`<div class="marquee-item"><span>${e.replace(/<[^>]*>/g," ")}</span></div>`),document.getElementById("support-marquee").innerHTML=`<div class="marquee-content" style="animation-duration: 80s;">${r.repeat(2)}</div>`)})(),document.querySelectorAll(".image-carousel-container").forEach(e=>{let t=e.querySelectorAll(".image-carousel-slide");if(t.length>1){let a=0;t[a].classList.add("active"),setInterval(()=>{t[a].classList.remove("active"),t[a=(a+1)%t.length].classList.add("active")},4500)}}),function e(){let t=new IntersectionObserver(e=>e.forEach(e=>{e.isIntersecting&&(e.target.classList.add("visible"),t.unobserve(e.target))}),{threshold:.05});document.querySelectorAll(".reveal").forEach(e=>t.observe(e))}(),document.querySelectorAll("#community .bento-item").forEach(e=>{e.addEventListener("mousemove",t=>{let a=e.getBoundingClientRect(),s=t.clientX-a.left,i=t.clientY-a.top,l=-((i/a.height-.5)*15),n=(s/a.width-.5)*15;e.style.transition="transform 0.1s ease-out",e.style.transform=`translateY(-5px) scale(1.02) rotateX(${l}deg) rotateY(${n}deg)`}),e.addEventListener("mouseleave",()=>{e.style.transition="transform 0.5s cubic-bezier(0.2, 0.8, 0.2, 1)",e.style.transform="rotateX(0) rotateY(0)"})}),function e(){let t=document.getElementById("scroll-progress-bar");window.addEventListener("scroll",()=>{t.style.width=`${window.pageYOffset/(document.body.scrollHeight-window.innerHeight)*100}%`})}()}a(),window.onload=()=>{let e=document.getElementById("loader");e&&(e.style.opacity="0",setTimeout(()=>{e.style.display="none",document.body.classList.remove("loading")},500))}});
